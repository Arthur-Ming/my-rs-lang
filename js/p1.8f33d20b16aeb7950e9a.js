(()=>{var e={8132:(e,t,s)=>{"use strict";s.r(t)},5800:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(7702);t.default=class{constructor(){this.element=null}render(e){const t=document.createElement("div");t.innerHTML=e,this.element=t.firstElementChild,this.subElements=(0,n.getSubElements)(this.element)}renderComponents(e){Object.entries(e).forEach((([e,t])=>{if(this.subElements){const s=t.render();s&&this.subElements[e].append(s)}}))}remove(){this.element&&this.element.remove()}destroy(){this.remove(),this.element=null}}},7702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=t.getSubElements=void 0,t.getSubElements=function(e,t="[data-element]",s="element"){if(e)return[...e.querySelectorAll(t)].reduce(((e={},t)=>{const n=t.dataset[s];return n&&(e[n]=t),e}),{})},t.createElement=function(e,t="div"){const s=document.createElement(t);if(s.innerHTML=e,s.firstElementChild)return s.firstElementChild;throw Error("Template is not correct")}},3773:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(2102)),r=i(s(5965)),o=i(s(3662)),l=i(s(7960)),u=i(s(2554)),d=i(s(2388)),c=u.default.getInstance();class h extends l.default{initComponents(){const e=Object.create(null,{renderComponents:{get:()=>super.renderComponents}});return n(this,void 0,void 0,(function*(){if(yield d.default.getLocalStorage(),d.default.isSignIn)try{yield a.default.getUser({id:d.default.userData.userId})}catch(e){d.default.isSignIn=!1}this.components={header:new o.default,footer:new r.default},e.renderComponents.call(this,this.components),c.route({to:d.default.currentPage.getState()})}))}render(){return super.render('\n<div class="wrapper">\n  <header class="header" data-element="header"></header>\n  <main class="main" data-element="content" id=\'content\'></main>\n  <footer class="footer" data-element="footer"></footer>\n</div>\n'),this.initComponents(),this.element}}t.default=h},2102:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BASE=void 0;const i=n(s(2388)),a=n(s(1746));var r;t.BASE="https://react-learnwords-example.herokuapp.com/",function(e){e.words="words",e.users="users",e.signin="signin"}(r||(r={})),t.default={getWords:({page:e=1,group:s=6}={})=>(0,a.default)(`${t.BASE}${r.words}?page=${e}&group=${s}`),getWord:({id:e})=>(0,a.default)(`${t.BASE}${r.words}/${e}`),createUser:({name:e,email:s,password:n})=>(0,a.default)(`\n    ${t.BASE}${r.users}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,password:n})}),signin:({email:e,password:s})=>(0,a.default)(`\n    ${t.BASE}${r.signin}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),getUser:({id:e})=>(0,a.default)(`\n    ${t.BASE}${r.users}/${e}`,{method:"GET",headers:{Authorization:`Bearer ${i.default.userData.token}`,Accept:"application/json","Content-Type":"application/json"}}),getUserWords:({id:e})=>(0,a.default)(`\n    ${t.BASE}${r.users}/${e}/words`,{method:"GET",headers:{Authorization:`Bearer ${i.default.userData.token}`,Accept:"application/json","Content-Type":"application/json"}}),creatUserWords:({id:e,wordId:s})=>(0,a.default)(`\n    ${t.BASE}${r.users}/${e}/words/${s}`,{method:"POST",headers:{Authorization:`Bearer ${i.default.userData.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"true",optional:{}})}),deleteUserWords:({id:e,wordId:s})=>(0,a.default)(`\n    ${t.BASE}${r.users}/${e}/words/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${i.default.userData.token}`,Accept:"application/json","Content-Type":"application/json"}})}},8852:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2970));class r extends i.default{constructor({template:e}){super(),this.onClick=e=>{e.target.closest("[data-audio-call-voice]")&&(0,a.default)({elem:this.element,event:"audio-call-voice"},!0)},this.template=e}render(){return super.render('\n<div class="audio-call__header-content"></div>\n'),this.element&&(this.element.innerHTML=this.template),this.initEventListeners(),this.element}updata(e){this.template=e,this.element&&(this.element.innerHTML="",this.element.innerHTML=this.template)}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=r},6801:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=s(3912),r=Array.from(Array(20),(()=>(0,a.createElement)('<div class="audio-call-progress__item"></div>')));class o extends i.default{render(){return super.render('\n<div class="audio-call-progress"></div>\n'),this.element&&this.element.append(...r),this.element}updata(e){const t=Object.values(e);r.forEach(((e,s)=>{!0===t[s]?e.classList.add("audio-call-progress__item_true"):!1===t[s]&&e.classList.add("audio-call-progress__item_false")}))}}t.default=o},5485:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2970));class r extends i.default{constructor(e){super(),this.onClick=()=>{(0,a.default)({elem:this.element,event:"audio-call-variant-click",payload:this.word.id},!0)},this.word=e}render(){return super.render(`\n<button class="audio-call__variant">${this.word.translate}</button>\n`),this.initEventListeners(),this.element}setDisabled(){this.element&&(this.element.disabled=!0)}highlight(e){this.word.id===e?this.element&&this.element.classList.add("audio-call__variant_true"):this.element&&this.element.classList.add("audio-call__variant_false")}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=r},7181:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M20 12L4 12M20 12L14 18M20 12L14 6" stroke="#001A72" stroke-width="1.5" stroke-linecap="round"\n          stroke-linejoin="round" />\n  </svg>'}},6447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'\n<div class="audio-call__call"  data-audio-call-voice>\n  <svg class=" audio-call__call-icon" viewBox="0 0 128 128">\n    <use xlink:href=\'assets/svg/sprite.svg#audio\' />\n  </svg>\n</div>\n  '}},1474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){return`\n<div class="audio-call__show">\n<div class="audio-call-show">\n<div class="audio-call-show__icon">\n  <img src="https://react-learnwords-example.herokuapp.com/${e}" alt="">\n</div>\n<div class="audio-call-show__text">\n  <div class="audio-call-show__audio" data-audio-call-voice>\n    <svg class="audio-call-show__audio-icon" viewBox="0 0 128 128">\n      <use xlink:href='assets/svg/sprite.svg#audio' />\n    </svg>\n  </div>\n  <div class="audio-call-show__word">${t}</div>\n  <div class="audio-call-show__dash"></div>\n  <div class="audio-call-show__translate">${s}</div>\n</div>\n</div>\n</div>\n`}},1249:function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&n(t,e,s);return i(t,e),t},r=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(7960)),u=o(s(7181)),d=o(s(5485)),c=o(s(2388)),h=o(s(2970)),m=o(s(7624)),p=a(s(2102)),v=o(s(1280)),_=o(s(8852)),f=o(s(6447)),g=o(s(1474)),b=o(s(6801));class E extends l.default{constructor({level:e}){super(),this.pages=[],this.answers={},this.level=0,this.currentVarints=[],this.indexOfCurrentTrueAnswer=0,this.audio=new Audio,this.sound=new Audio,this.onSoundClick=e=>{e.target.closest("[data-element]").classList.toggle("sprint-game__sound-icon_active"),c.default.audioCallSound=!c.default.audioCallSound},this.onKeyDown=e=>{const t=e.key,s=e.code;if(" "===t&&(e.preventDefault(),this.voice()),"Enter"===t&&(e.preventDefault(),this.subElements&&this.subElements["audio-call-buttons"])){const e=this.subElements["audio-call-buttons"].classList.contains("audio-call_unknown")?this.subElements["audio-call-buttons"].querySelector("[data-audio-call-next]"):this.subElements["audio-call-buttons"].querySelector("[data-audio-call-unknow]");e&&this.onButtonClick({target:e})}if("1"===t||"2"===t||"3"===t||"4"===t||"5"===t){e.preventDefault();const{id:s}=this.currentVarints[Number(t)-1];this.subElements&&this.subElements["audio-call-variants"]&&(0,h.default)({elem:this.subElements["audio-call-variants"],event:"audio-call-variant-click",payload:s})}if("KeyM"===s){e.preventDefault();const t=this.subElements&&this.subElements["sprint-sound"];t&&this.onSoundClick({target:t})}},this.onAudioCallVariantClick=e=>{this.setDisabledVariants();const t=this.currentTrueAnswer.id===e.detail;this.setAnswer(this.currentTrueAnswer.id,t),this.showAnswer(),this.subElements&&this.subElements["audio-call-buttons"].classList.add("audio-call_unknown")},this.onGameOver=()=>{(0,h.default)({elem:this.element,event:"audio-call-over",payload:Object.assign({},this.answers)},!0)},this.onButtonClick=e=>{if(e.target.closest("[data-audio-call-unknow]"))return this.subElements&&this.subElements["audio-call-buttons"].classList.add("audio-call_unknown"),this.setDisabledVariants(),this.setAnswer(this.currentTrueAnswer.id,!1),void this.showAnswer();e.target.closest("[data-audio-call-next]")&&(this.showCallIcon(),this.getRound())},this.voice=()=>{this.audio.src=`${p.BASE}${this.currentTrueAnswer.audio}`,this.audio.play()},this.level=null!=e?e:1}init(){return r(this,void 0,void 0,(function*(){this.initComponents(),this.initEventListeners(),this.getPage(),this.getLevel(),yield this.getData(),this.getRound()}))}initComponents(){this.components={"audio-call-progress":new b.default,"audio-call-header":new _.default({template:(0,f.default)()})},super.renderComponents(this.components),this.initEventListeners()}render(){return super.render(`\n<div class="audio-call__game">\n   <div class="sprint-game__sound-icon audio-call__sound-icon\n        ${c.default.audioCallSound?"sprint-game__sound-icon_active":""} " \n        data-element='sprint-sound'\n    data-tooltip='Звуковое сопровождение'>\n      <svg class="sprint-game__sound-icon_act"  viewBox="0 0 24 24">\n        <use xlink:href='assets/svg/sprite.svg#sound-active' />\n      </svg>\n      <svg class="sprint-game__sound-icon_mute" viewBox="0 0 24 24">\n        <use xlink:href='assets/svg/sprite.svg#sound-mute' />\n      </svg>\n   </div>\n  <div class="audio-call__progress" data-element='audio-call-progress'></div>\n  <div class="audio-call__header" data-element='audio-call-header'></div>\n  <div class="audio-call__variants" data-element='audio-call-variants'></div>\n  <div class="audio-call__buttons" data-element='audio-call-buttons'>\n    <button class="audio-call__button audio-call__button_know button"\n    data-audio-call-unknow>Не знаю</button>\n    <button class="audio-call__button audio-call__button_unknow button"\n    data-audio-call-next > ${(0,u.default)()}</button>\n  </div>\n</div>\n`),this.init(),this.element}showAnswer(){const{image:e,word:t,wordTranslate:s}=this.currentTrueAnswer;this.components["audio-call-header"].updata((0,g.default)(e,t,s))}showCallIcon(){this.components["audio-call-header"].updata((0,f.default)())}setAnswer(e,t){this.answers=Object.assign(Object.assign({},this.answers),{[e]:t}),this.audioCallVariants.forEach((e=>{e.highlight(this.currentTrueAnswer.id)})),this.components["audio-call-progress"].updata(this.answers),t?this.ok():this.error()}ok(){c.default.audioCallSound&&(this.sound.src="assets/sounds/ok.wav",this.sound.play())}error(){c.default.audioCallSound&&(this.sound.src="assets/sounds/error.wav",this.sound.play())}getWord(){for(;;){this.indexOfCurrentTrueAnswer=(0,m.default)(0,20);const{word:e,wordTranslate:t,id:s,audio:n,image:i}=this.data[this.indexOfCurrentTrueAnswer];if(!Object.keys(this.answers).includes(s,20*(this.pages.length-1)))return{word:e,wordTranslate:t,id:s,audio:n,image:i}}}getPage(){var e;let t=0;return 30===this.pages.length&&this.onGameOver(),"textbook"===c.default.sprintMode&&(t=null!==(e=this.getPrevPage())&&void 0!==e?e:0),"free"===c.default.sprintMode&&(t=this.getRandomPage()),this.pages.push(t),t}getPrevPage(){const e=this.getCurrentPage();if(null===e){const{page:e}=c.default.textbook.getState();return e}if(e>0)return e-1;0===e&&this.onGameOver()}getRandomPage(){for(;;){const e=(0,m.default)(0,30);if(!this.pages.includes(e))return e}}getCurrentPage(){return this.pages.length?this.pages[this.pages.length-1]:null}getLevel(){if("textbook"===c.default.sprintMode){const{group:e}=c.default.textbook.getState();if(6===e)return this.level;this.level=e}return this.level}getData(){var e;return r(this,void 0,void 0,(function*(){const t=null!==(e=this.getCurrentPage())&&void 0!==e?e:0,s=yield p.default.getWords({group:this.level,page:t});return this.data=s,s}))}getVariants(){const e=this.getVariantsIndexes();return this.currentVarints=[],e.map((e=>(this.currentVarints.push(this.data[e]),this.data[e])))}getVariantsIndexes(){const e=[];for(e.push(this.indexOfCurrentTrueAnswer);;){const t=(0,m.default)(0,20);if(e.includes(t)||e.push(t),5===e.length)return(0,v.default)(e),e}}getRound(){20!==Object.keys(this.answers).length?(this.subElements&&this.subElements["audio-call-buttons"].classList.remove("audio-call_unknown"),this.currentTrueAnswer=this.getWord(),this.renderVariants(this.getVariants()),this.voice()):this.onGameOver()}renderVariants(e){this.audioCallVariants=[],this.subElements&&(this.subElements["audio-call-variants"].innerHTML=""),e.forEach((({id:e,wordTranslate:t})=>{const s=new d.default({id:e,translate:t}),n=s.render();this.audioCallVariants.push(s),this.subElements&&n&&this.subElements["audio-call-variants"].append(n)}))}setDisabledVariants(){this.audioCallVariants.forEach((e=>e.setDisabled()))}initEventListeners(){this.subElements&&this.subElements["audio-call-variants"]&&this.subElements["audio-call-variants"].addEventListener("audio-call-variant-click",this.onAudioCallVariantClick);const{element:e}=this.components["audio-call-header"];e&&e.addEventListener("audio-call-voice",this.voice),this.subElements&&this.subElements["audio-call-buttons"]&&this.subElements["audio-call-buttons"].addEventListener("click",this.onButtonClick),this.subElements&&this.subElements["sprint-sound"]&&this.subElements["sprint-sound"].addEventListener("click",this.onSoundClick),this.element&&window.addEventListener("keydown",this.onKeyDown)}}t.default=E},8025:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2554)),r=n(s(4799)),o=n(s(2388)),l=a.default.getInstance();class u extends i.default{constructor(){super(...arguments),this.onClick=()=>{o.default.isSignIn?(o.default.isSignIn=!1,new r.default({message:"Пользователь покинул аккаунт",duration:3e3}).show(),location.reload()):l.route({to:"login"})}}render(){return super.render(`\n<div class="auth">\n  <span class="auth__auth ${o.default.isSignIn?"_hidden":""} ">Войти</span>\n  <span class="auth__auth ${o.default.isSignIn?"":"_hidden"}" \n  data-tooltip='выйти'>${o.default.userData.name}</span>\n  <svg class="auth__icon" viewBox="0 0 24 24">\n     <use xlink:href='assets/svg/sprite.svg#auth' />\n  </svg>\n</div>\n`),this.initEventListeners(),this.element}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=u},8093:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2970)),r={info:{color:"green"},warning:{color:"orange",threshold:30},alert:{color:"red",threshold:15}};let o=r.info.color;class l extends i.default{constructor({duration:e=60}={}){super(),this.timerInterval=null,this.timePassed=0,this.duration=e,this.timeLeft=e}render(){var e;return super.render((e=this.formatTime(this.timeLeft),`\n<div class="base-timer">\n  <svg class="base-timer__svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <g class="base-timer__circle">\n      <circle class="base-timer__path-elapsed" cx="50" cy="50" r="45"></circle>\n      <path data-element='base-timer-path-remaining' stroke-dasharray="283"\n        class="base-timer__path-remaining ${o}"\n         d="M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0"></path>\n    </g>\n  </svg>\n  <span data-element='base-timer-label' class="base-timer__label">${e}</span>\n</div>\n`)),this.element}onTimesUp(){clearInterval(this.timerInterval),(0,a.default)({elem:this.element,event:"timer-over"})}start(){return this.timerInterval=setInterval((()=>{this.timePassed=this.timePassed+=1,this.timeLeft=this.duration-this.timePassed,this.subElements["base-timer-label"].textContent=this.formatTime(this.timeLeft),this.setCircleDasharray(),this.setRemainingPathColor(this.timeLeft),0===this.timeLeft&&this.onTimesUp()}),1e3),this}pause(){return clearInterval(this.timerInterval),this}formatTime(e){let t=e%60;return t<10&&(t=`0${t}`),`${Math.floor(e/60)}:${t}`}setRemainingPathColor(e){const{alert:t,warning:s,info:n}=r;e<=t.threshold?(this.subElements["base-timer-path-remaining"].classList.remove(s.color),this.subElements["base-timer-path-remaining"].classList.add(t.color)):e<=s.threshold&&(this.subElements["base-timer-path-remaining"].classList.remove(n.color),this.subElements["base-timer-path-remaining"].classList.add(s.color))}calculateTimeFraction(){const e=this.timeLeft/this.duration;return e-1/this.duration*(1-e)}setCircleDasharray(){const e=`${(283*this.calculateTimeFraction()).toFixed(0)} 283`;this.subElements["base-timer-path-remaining"].setAttribute("stroke-dasharray",e)}}t.default=l},5965:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2388)),r=s(6116);class o extends i.default{constructor(){super(...arguments),this.onPageChange=()=>{const e=a.default.currentPage.getState();"sprint"===e||"audio-call"===e?this.element&&this.element.classList.add("_hidden"):this.element&&this.element.classList.remove("_hidden")}}render(){return super.render('\n<div class="footer__content wrapper__box">\n  <div class="rss-logo-year">\n    <a class="rss-logo" href="https://rs.school/js/">\n     <img src="assets/rs_school_js _w.svg" alt="rss-logo">\n    </a>\n    <span class="year">2022</span>\n  </div>\n \n  <a href="https://github.com/Arthur-Ming" class="author">Arthur-Ming</a>\n</div>\n'),this.initEventListeners(),this.element}initEventListeners(){a.default.currentPage.subscribe(r.PAGE_CHANGE,this.onPageChange)}}t.default=o},7509:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2388)),r=s(6116),o=s(3912);class l extends i.default{constructor(){super(...arguments),this.onClick=e=>{const t=e.target.closest("[data-group]");if(!t)return;this.removeActive(),t.classList.add("groups__item_active");const{group:s}=a.default.textbook.getState();s!==Number(t.dataset.group)&&a.default.textbook.dispatch({type:r.GROUP_SELECT,group:Number(t.dataset.group)})},this.removeActive=()=>{this.subElements&&Object.values(this.subElements).forEach((e=>e.classList.remove("groups__item_active")))}}render(){return super.render(`\n<div class="groups__content">\n    <div class="groups__title">Раздел:</div>\n    <div class="groups__items">${[0,1,2,3,4,5].map((e=>{const{group:t}=a.default.textbook.getState();return`<div class="groups__item groups__item_color-${e+1}\n            ${t===e?"groups__item_active":""}" data-group=${e}>${e+1}</div>`})).join("")}</div>\n</div>\n`),this.subElements=(0,o.getSubElements)(this.element,"[data-group]","group"),this.initEventListeners(),this.element}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=l},7571:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(2388)),a=s(6116),r=s(3912);t.default=class{constructor(e){var t;this.toggler=(0,r.createElement)('\n<div class="icon-menu">\n  <span></span>\n  <span></span>\n  <span></span>\n</div>\n'),this.list=(0,r.createElement)('\n<div class="header__list"></div>\n'),this.onToggle=()=>{var e;this.toggler.classList.toggle("icon-menu_active"),null===(e=this.header.subElements)||void 0===e||e.list.classList.toggle("header__list_active"),document.body.classList.toggle("lock")},this.onWindowResize=()=>{var e;Number(document.documentElement.clientWidth)>=980&&(this.toggler.classList.remove("icon-menu_active"),null===(e=this.header.subElements)||void 0===e||e.list.classList.remove("header__list_active"),document.body.classList.remove("lock"))},this.onPageChange=()=>{var e;Number(document.documentElement.clientWidth)<=980&&(this.toggler.classList.remove("icon-menu_active"),null===(e=this.header.subElements)||void 0===e||e.list.classList.remove("header__list_active"),document.body.classList.remove("lock"))},this.header=e,null===(t=this.header.element)||void 0===t||t.append(this.toggler),this.initEventListeners()}initEventListeners(){this.toggler.addEventListener("click",this.onToggle),window.addEventListener("resize",this.onWindowResize),i.default.currentPage.subscribe(a.PAGE_CHANGE,this.onPageChange)}}},3662:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(8025)),r=n(s(3639)),o=n(s(499)),l=n(s(7571));class u extends i.default{initComponents(){this.components={logo:new r.default,nav:new o.default,auth:new a.default},super.renderComponents(this.components)}render(){return super.render('\n<div class="header__content wrapper__box">\n    <div class="header__logo" data-element=\'logo\'></div>\n    <div class="header__list" data-element=\'list\'>\n   \n      <nav class="header__nav nav" data-element=\'nav\'></nav>\n      <div class="header__auth" data-element=\'auth\'></div>\n    </div>\n</div>\n '),this.initComponents(),new l.default(this),this.element}}t.default=u},3639:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2554)),r=n(s(2388)),o=a.default.getInstance();class l extends i.default{constructor(){super(...arguments),this.onClick=()=>{"start"!==r.default.currentPage.getState()&&o.route({to:"start"})}}render(){return super.render('\n<div class="logo">rs lang</div>\n'),this.initEventListeners(),this.element}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=l},499:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2554)),r=n(s(2388)),o=s(6116),l=s(3912),u=a.default.getInstance();class d extends i.default{constructor(){super(...arguments),this.onNavClick=e=>{const t=e.target.closest("[data-nav]");t&&t.dataset.nav!==r.default.currentPage.getState()&&u.route({to:t.dataset.nav})},this.onPageChange=()=>{const e=r.default.currentPage.getState();this.unHighlight(),this.subElements&&this.subElements[e]&&this.subElements[e].classList.add("nav__item_active")},this.unHighlight=()=>{this.subElements&&Object.values(this.subElements).forEach((e=>{e.classList.remove("nav__item_active")}))}}render(){return super.render('\n<ul class="nav__list">\n  <li class="nav__item" data-nav=\'textbook\'>\n    <svg class="nav__icon" viewBox="0 0 1000 1000">\n        <use xlink:href=\'assets/svg/sprite.svg#textbook\' />\n    </svg>\n    <span class="nav__text">Учебник</span>\n  </li>\n  <li class="nav__item">\n    <svg class="nav__icon" viewBox="0 0 1000 1000">\n        <use xlink:href=\'assets/svg/sprite.svg#statistics\' />\n    </svg>\n    <span class="nav__text">Статистика</span>\n  </li>\n  <li class="nav__item" data-nav=\'sprint\'>\n    <svg class="nav__icon" viewBox="0 0 1000 1000">\n        <use xlink:href=\'assets/svg/sprite.svg#sprint\' />\n    </svg>\n    <span class="nav__text">Спринт</span>\n  </li>\n  <li class="nav__item" data-nav=\'audio-call\'>\n    <svg class="nav__icon" viewBox="0 0 24 24">\n        <use xlink:href=\'assets/svg/sprite.svg#game-audio\' />\n    </svg>\n    <span class="nav__text">Аудиовызов</span>\n  </li>\n</ul>\n'),this.subElements=(0,l.getSubElements)(this.element,"[data-nav]","nav"),this.initEventListeners(),this.element}initEventListeners(){this.element&&this.element.addEventListener("click",this.onNavClick),r.default.currentPage.subscribe(o.PAGE_CHANGE,this.onPageChange)}}t.default=d},4799:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960));class a extends i.default{constructor({message:e,type:t="success",duration:s=2e3}){super(),this.params={type:t,message:e,duration:s},this.render()}render(){return super.render(((e,t="success")=>`\n<div class="notification notification_${t}">\n  <div class="notification__wrapper">\n    <div class="notification__header _hidden"></div>\n    <div class="notification__body">${e}</div>\n  </div>\n</div>\n`)(this.params.message,this.params.type)),this.element}show(e=document.body){a.staticElement&&a.staticElement.remove(),a.staticElement=this.element,this.element&&e.append(this.element),setTimeout((()=>{this.element&&this.element.classList.add("notification_show")}),0),setTimeout((()=>{this.element&&this.element.classList.remove("notification_show")}),this.params.duration?this.params.duration/2:0),setTimeout((()=>{this.destroy()}),this.params.duration)}}t.default=a,a.staticElement=null},4528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={doubleprev:'\n<svg class="pagination__arrow_icon" viewBox="0 0 448 512">\n  <use xlink:href=\'assets/svg/sprite.svg#double-arrow-prev\' />\n</svg>\n  ',prev:'\n<svg class="pagination__arrow_icon" viewBox="0 0 448 512">\n  <use xlink:href=\'assets/svg/sprite.svg#arrow-prev\' />\n</svg>\n  ',next:'\n<svg class="pagination__arrow_icon" viewBox="0 0 448 512">\n  <use xlink:href=\'assets/svg/sprite.svg#arrow-next\' />\n</svg>\n  ',doublenext:'\n<svg class="pagination__arrow_icon" viewBox="0 0 448 512">\n  <use xlink:href=\'assets/svg/sprite.svg#double-arrow-next\' />\n</svg>\n  '}},7688:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(5800)),a=n(s(2388)),r=s(6116),o=n(s(4528));class l extends i.default{constructor(){super(...arguments),this.onNext=()=>{const{page:e}=a.default.textbook.getState();e!==r.MAX_PAGE_TEXTBOOK&&a.default.textbook.dispatch({type:r.PAGE_NEXT})},this.onPrev=()=>{const{page:e}=a.default.textbook.getState();e!==r.MIN_PAGE_TEXTBOOK&&a.default.textbook.dispatch({type:r.PAGE_PREV})},this.onDoubleNext=()=>{const{page:e}=a.default.textbook.getState();e!==r.MAX_PAGE_TEXTBOOK&&a.default.textbook.dispatch({type:r.PAGE_DOUBLENEXT})},this.onDoublePrev=()=>{const{page:e}=a.default.textbook.getState();e!==r.MIN_PAGE_TEXTBOOK&&a.default.textbook.dispatch({type:r.PAGE_DOUBLEPREV})},this.setPage=()=>{const{page:e}=a.default.textbook.getState();this.subElements&&(this.subElements.page.textContent=String(e+1)),this.setArrows()},this.setArrows=()=>{const{page:e}=a.default.textbook.getState();switch(e){case r.MIN_PAGE_TEXTBOOK:this.subElements&&(this.subElements.prev.disabled=!0,this.subElements.doubleprev.disabled=!0,this.subElements.next.disabled=!1,this.subElements.doublenext.disabled=!1);break;case r.MAX_PAGE_TEXTBOOK:this.subElements&&(this.subElements.next.disabled=!0,this.subElements.doublenext.disabled=!0,this.subElements.prev.disabled=!1,this.subElements.doubleprev.disabled=!1);break;default:this.subElements&&(this.subElements.prev.disabled=!1,this.subElements.doubleprev.disabled=!1,this.subElements.next.disabled=!1,this.subElements.doublenext.disabled=!1)}}}render(){return super.render(`\n<div class="pagination__content wrapper__box">\n  <button class="pagination__arrow" data-element='doubleprev'>${o.default.doubleprev}</button>\n  <button class="pagination__arrow" data-element='prev'>${o.default.prev}</button>\n  <div class="pagination__pages">\n    <button class="pagination__page" data-element='page'></button>\n    <button class="pagination__page pagination__page_gf">/</button>\n    <button class="pagination__page">${r.MAX_PAGE_TEXTBOOK+1}</button>\n  </div>\n  <button class="pagination__arrow"  data-element='next'>${o.default.next}</button>\n  <button class="pagination__arrow" data-element='doublenext'>${o.default.doublenext}</button>\n</div>\n  `),this.setPage(),this.setArrows(),this.initEventListeners(),this.element}initEventListeners(){this.subElements&&(this.subElements.next.addEventListener("click",this.onNext),this.subElements.prev.addEventListener("click",this.onPrev),this.subElements.doublenext.addEventListener("click",this.onDoubleNext),this.subElements.doubleprev.addEventListener("click",this.onDoublePrev)),a.default.textbook.subscribe(r.PAGE_NEXT,this.setPage),a.default.textbook.subscribe(r.PAGE_PREV,this.setPage),a.default.textbook.subscribe(r.PAGE_DOUBLENEXT,this.setPage),a.default.textbook.subscribe(r.PAGE_DOUBLEPREV,this.setPage)}}t.default=l},8374:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=n(s(2388)),r=n(s(2970)),o=n(s(4268));class l extends i.default{constructor({entry:e}){super(),this.onClick=()=>{(0,r.default)({elem:this.element,event:"sprint-start"},!0)},this.onSprintLevelSelected=()=>{this.isLevelSelected=!0,this.subElements&&(this.subElements["sprint-start"].disabled=!1)},this.isLevelSelected="textbook"===a.default.sprintMode&&6!==a.default.textbook.getState().group,this.entry=e}initComponents(){this.components={"sprint-choice":new o.default},super.renderComponents(this.components)}render(){var e;return super.render((e=this.isLevelSelected,`\n<div class="sprint__entry sprint-entry">\n<div class="sprint-entry__content">\n   ${this.entry}\n    <div class="sprint-entry__choice ${e?"_hidden":""}" \n    data-element='sprint-choice' ></div>\n    <button class="sprint-entry__button button" \n       data-element='sprint-start' ${e?"":"disabled"}>\n       <span>Начать</span>\n    </button>\n</div>\n</div>\n`)),this.initComponents(),this.initEventListeners(),this.element}initEventListeners(){this.subElements&&(this.subElements["sprint-start"].addEventListener("click",this.onClick),this.subElements["sprint-choice"].addEventListener("sprint-level",this.onSprintLevelSelected))}}t.default=l},4268:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=s(3912),r=n(s(2970));class o extends i.default{constructor(){super(...arguments),this.onClick=e=>{const t=e.target.closest("[data-slevels]");t&&(this.removeActive(),t.classList.add("sprint-entry-choice__item_active"),(0,r.default)({event:"sprint-level",elem:this.element,payload:t.dataset.slevels},!0))},this.removeActive=()=>{this.subElements&&Object.values(this.subElements).forEach((e=>e.classList.remove("sprint-entry-choice__item_active")))}}render(){return super.render(`\n<div class="sprint-entry-choice">\n  <h5 class="sprint-entry-choice__title">Выберите уровень:</h5>\n  <div class="sprint-entry-choice__choice">${[0,1,2,3,4,5].map((e=>`<div class="sprint-entry-choice__item" data-slevels=${e}>${e+1}</div>`)).join("")}</div>\n</div>\n`),this.initEventListeners(),this.subElements=(0,a.getSubElements)(this.element,"[data-slevels]","slevels"),this.element}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=o},8388:function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&n(t,e,s);return i(t,e),t},r=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(7960)),u=o(s(4799)),d=o(s(7624)),c=o(s(8093)),h=a(s(2102)),m=o(s(4313)),p=o(s(2388)),v=o(s(2970)),_=o(s(9953));class f extends l.default{constructor({level:e}){super(),this.timer=new c.default,this.level=1,this.isTrue=!1,this.pages=[],this.answers={},this.score=0,this.continuousOfTrueAnswer=0,this.sound=new Audio,this.audio=new Audio,this.onSoundClick=e=>{e.target.closest("[data-element]").classList.toggle("sprint-game__sound-icon_active"),p.default.sprintSound=!p.default.sprintSound},this.onAudioClick=()=>{this.audio.play()},this.onKeyDown=e=>{const t=e.key;let s=!1;if("KeyM"!==e.code)"ArrowRight"===t&&(s=!!this.isTrue),"ArrowLeft"===t&&(s=!this.isTrue),s?this.continuousOfTrueAnswer+=1:this.continuousOfTrueAnswer=0,this.setAnswer(this.currentWordId,s),this.getRound();else{e.preventDefault();const t=this.subElements&&this.subElements["sprint-sound"];t&&this.onSoundClick({target:t})}},this.onClick=e=>{const t=e.target.closest("[data-element]");if(!t)return;let s=!1;"sprint-answer-false"===t.dataset.element&&(s=!this.isTrue),"sprint-answer-true"===t.dataset.element&&(s=!!this.isTrue),s?this.continuousOfTrueAnswer+=1:this.continuousOfTrueAnswer=0,this.setAnswer(this.currentWordId,s),this.getRound()},this.onGameOver=()=>{(0,v.default)({elem:this.element,event:"sprint-over",payload:Object.assign({},this.answers)},!0)},this.level=null!=e?e:1}setAnswer(e,t){if(this.answers=Object.assign(Object.assign({},this.answers),{[e]:t}),t){const e=this.continuousOfTrueAnswer>=4?20:10;this.score+=e,this.setScore(),this.ok(),this.subElements&&new _.default({message:`+${e}`,duration:3e3}).show(this.subElements["sprint-content"])}else this.error()}initGame(){return r(this,void 0,void 0,(function*(){this.getPage(),this.getLevel(),yield(0,m.default)(this.getData()),yield this.getRound(),this.timer.start()}))}getLevel(){if("textbook"===p.default.sprintMode){const{group:e}=p.default.textbook.getState();if(6===e)return this.level;this.level=e}return this.level}getPage(){var e;let t=0;return 30===this.pages.length&&(this.element&&new u.default({message:"Недостаточно слов",duration:6e3}).show(),this.onGameOver()),"textbook"===p.default.sprintMode&&(t=null!==(e=this.getPrevPage())&&void 0!==e?e:0),"free"===p.default.sprintMode&&(t=this.getRandomPage()),this.pages.push(t),t}getPrevPage(){const e=this.getCurrentPage();if(null===e){const{page:e}=p.default.textbook.getState();return e}if(e>0)return e-1;0===e&&(this.element&&new u.default({message:"Недостаточно слов",duration:6e3}).show(),this.onGameOver())}getData(){var e;return r(this,void 0,void 0,(function*(){const t=null!==(e=this.getCurrentPage())&&void 0!==e?e:0,s=yield h.default.getWords({group:this.level,page:t});return this.data=s,s}))}setScore(){this.subElements&&(this.subElements["sprint-score"].textContent=String(this.score))}getWord(){return r(this,void 0,void 0,(function*(){for(Object.keys(this.answers).length===20*this.pages.length&&(this.getPage(),this.timer.pause(),yield(0,m.default)(this.getData()),this.timer.start());;){const{word:e,wordTranslate:t,id:s,audio:n}=this.data[(0,d.default)(0,20)];if(!Object.keys(this.answers).includes(s,20*(this.pages.length-1)))return{word:e,wordTranslate:t,id:s,audio:n}}}))}getRandomPage(){for(;;){const e=(0,d.default)(0,30);if(!this.pages.includes(e))return e}}getCurrentPage(){return this.pages.length?this.pages[this.pages.length-1]:null}getRandomTranslate(){for(;;){const{wordTranslate:e,id:t}=this.data[(0,d.default)(0,20)];if(this.currentWordId!==t)return e}}getRound(){return r(this,void 0,void 0,(function*(){this.isTrue=Boolean((0,d.default)(0,2));const{word:e,wordTranslate:t,id:s,audio:n}=yield this.getWord();this.currentWordId=s,this.audio=new Audio(`${h.BASE}${n}`);const i=this.isTrue?t:this.getRandomTranslate();this.subElements&&(this.subElements["sprint-word"].textContent=e,this.subElements["sprint-translate"].textContent=i)}))}render(){super.render(`\n<div class="sprint-game">\n  <div class="sprint-game__content wrapper__box" data-element='sprint-content'>\n    <div class="sprint-game__header">\n      <div class="sprint-game__sound-icon ${p.default.sprintSound?"sprint-game__sound-icon_active":""} " \n        data-element='sprint-sound'\n        data-tooltip='Звуковое сопровождение'\n        >\n        <svg class="sprint-game__sound-icon_act"  viewBox="0 0 24 24">\n           <use xlink:href='assets/svg/sprite.svg#sound-active' />\n        </svg>\n        <svg class="sprint-game__sound-icon_mute" viewBox="0 0 24 24">\n           <use xlink:href='assets/svg/sprite.svg#sound-mute' />\n        </svg>\n      </div>\n      <div class="sprint-game__audio-icon" data-element='sprint-audio'\n      data-tooltip='Произношение слова'\n      > \n         <svg class="audio" viewBox="0 0 128 128">\n           <use xlink:href='assets/svg/sprite.svg#audio' />\n        </svg>\n      </div>\n      <h5 class="sprint-game__header-title">Ваш результат: </h5>\n      <h5 class="sprint-game__header-result" data-element='sprint-score'></h5>\n    </div>\n    <div class="sprint-game__words">\n      <div class="sprint-game__word" data-element='sprint-word'></div>\n      <div class="sprint-game__var" data-element='sprint-translate'></div>\n    </div>\n    <div class="sprint-game__buttons" data-element='sprint-button'>\n      <button class="sprint-game__button sprint-game__button_fl button" data-element='sprint-answer-false'>\n        <span>Неверно</span>\n      </button>\n      <button class="sprint-game__button sprint-game__button_tr button" data-element='sprint-answer-true'>\n        <span>Верно</span>\n      </button>\n    </div>\n  </div>\n</div>\n`),this.initGame(),this.setScore();const e=this.timer.render();return this.element&&e&&this.element.append(e),this.initEventListeners(),this.element}ok(){p.default.sprintSound&&(this.sound.src="assets/sounds/ok.wav",this.sound.play())}error(){p.default.sprintSound&&(this.sound.src="assets/sounds/error.wav",this.sound.play())}initEventListeners(){this.subElements&&(this.subElements["sprint-button"].addEventListener("click",this.onClick),this.subElements["sprint-sound"].addEventListener("click",this.onSoundClick),this.subElements["sprint-audio"].addEventListener("click",this.onAudioClick)),this.timer.element&&this.timer.element.addEventListener("timer-over",this.onGameOver),this.element&&window.addEventListener("keydown",this.onKeyDown)}}t.default=f},9953:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960));class a extends i.default{constructor({message:e,type:t="success",duration:s=2e3}){super(),this.params={type:t,message:e,duration:s},this.render()}render(){return super.render(`\n<div class="show-score show-score_success">\n  <div class="show-score__wrapper">\n    <div class="show-score__header _hidden"></div>\n    <div class="show-score__body">${this.params.message}</div>\n  </div>\n</div>\n`),this.element}show(e=document.body){a.staticElement&&a.staticElement.remove(),a.staticElement=this.element,this.element&&e.append(this.element),setTimeout((()=>{this.element&&this.element.classList.add("show-score_show")}),0),setTimeout((()=>{this.element&&this.element.classList.remove("show-score_show")}),this.params.duration?this.params.duration/2:0),setTimeout((()=>{this.destroy()}),this.params.duration)}}t.default=a,a.staticElement=null},6909:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(2102)),r=i(s(7960)),o=i(s(4313)),l=i(s(9462));class u extends r.default{constructor({results:e}){super(),this.results=e}init(){return n(this,void 0,void 0,(function*(){const e=yield(0,o.default)(this.getData()),{errors:t,success:s}=this.separateData(e),n=this.subElements&&this.subElements["sprint-results-errors"],i=this.subElements&&this.subElements["sprint-results-success"];n&&this.renderItems(t,n),i&&this.renderItems(s,i),this.setErrorsAmount(t),this.setSuccessAmount(s)}))}getData(){return n(this,void 0,void 0,(function*(){return yield Promise.all(Object.keys(this.results).map((e=>a.default.getWord({id:e}))))}))}separateData(e){return{success:e.filter((({id:e})=>this.results[e])),errors:e.filter((({id:e})=>!this.results[e]))}}setErrorsAmount(e){this.subElements&&(this.subElements["sprint-errors-amount"].textContent=String(e.length))}setSuccessAmount(e){this.subElements&&(this.subElements["sprint-success-amount"].textContent=String(e.length))}renderItems(e,t){e.forEach((({word:e,wordTranslate:s,audio:n})=>{const i=new l.default({word:e,audio:n,translate:s}).render();i&&t.append(i)}))}render(){return super.render('\n<div class="sprint-results" data-element=\'sprint-results\'>\n  <div class="sprint-results__content wrapper__box">\n    <h5 class="sprint-results__title">Результаты</h5>\n    <div class="sprint-results__column">\n      <h5 class="sprint-results__subtitle">\n        Ошибок <span class="sprint-results__errors" data-element=\'sprint-errors-amount\'></span>\n      </h5>\n      <ul class="sprint-results__items" data-element=\'sprint-results-errors\'></ul>\n    </div>\n    <div class="sprint-results__column">\n      <h5 class="sprint-results__subtitle">\n        Знаю <span class="sprint-results__success" data-element=\'sprint-success-amount\'></span>\n      </h5>\n      <ul class="sprint-results__items" data-element=\'sprint-results-success\'></ul>\n    </div>\n  </div>\n</div>\n'),this.init(),this.element}}t.default=u},9462:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2102),a=n(s(7960));class r extends a.default{constructor(e){super(),this.onClick=e=>{e.target.closest("[data-result-audio]")&&this.audioPlay()},this.result=e,this.audio=new Audio(`${i.BASE}${this.result.audio}`)}render(){const{word:e,translate:t}=this.result;return super.render((({word:e,translate:t})=>`\n<li class="sprint-results__item sprint-results-item">\n  <div class="sprint-results-item__audio" data-result-audio>\n    <svg class="audio" viewBox="0 0 128 128">\n      <use xlink:href='assets/svg/sprite.svg#audio' />\n    </svg>\n  </div>\n  <div class="sprint-results-item__word">${e}</div>\n  <span class="sprint-results-item__dash"></span>\n  <div class="sprint-results-item__translate">${t}</div>\n</li>\n`)({word:e,translate:t})),this.initEventListeners(),this.element}audioPlay(){this.audio.play()}initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}t.default=r},6036:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960)),a=s(3912),r=n(s(7892));class o extends i.default{constructor({cards:e}){super(),this.cards=e}render(){return super.render('<div class="textbook__cards"></div>'),this.renderCards(this.cards),this.cards.length||this.element&&this.element.append((0,a.createElement)("\n      <span>Здесь пока пусто :-(</span>\n      ")),this.element}renderCards(e){e.forEach((e=>{const t=new r.default({card:e}).render();t&&this.element&&this.element.append(t)}))}updata(e){this.element&&(this.element.innerHTML=""),this.cards=e,this.cards.length||this.element&&this.element.append((0,a.createElement)("\n      <span>Здесь пока пусто :-(</span>\n      ")),this.renderCards(e)}}t.default=o},7892:function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&n(t,e,s);return i(t,e),t},r=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(s(2102)),u=o(s(7960)),d=o(s(2388)),c=s(6116);class h extends u.default{constructor({card:e}){super(),this.isAudioActive=!1,this.onStudiedClick=()=>r(this,void 0,void 0,(function*(){var e,t;yield this.deleteWord(),this.element&&(this.element.classList.remove("textbook-card_hard"),this.element.classList.toggle("textbook-card_studied")),this.subElements&&(null===(e=this.subElements)||void 0===e||e.studied.classList.toggle("textbook-card__button_active"),null===(t=this.subElements)||void 0===t||t.hard.classList.remove("textbook-card__button_active"))})),this.onHardClick=()=>r(this,void 0,void 0,(function*(){var e,t;this.element&&(this.element.classList.remove("textbook-card_studied"),this.element.classList.toggle("textbook-card_hard")),this.subElements&&(null===(e=this.subElements)||void 0===e||e.hard.classList.toggle("textbook-card__button_active"),null===(t=this.subElements)||void 0===t||t.studied.classList.remove("textbook-card__button_active"));const s=this.element&&this.element.classList.contains("textbook-card_hard");try{yield l.default.creatUserWords({id:d.default.userData.userId,wordId:this.card.id})}catch(e){console.log(e)}d.default.dictionary.dispatch({type:c.HARD_WORD_SELECTED,wordId:this.card.id,isSelected:s})})),this.onRemove=()=>r(this,void 0,void 0,(function*(){yield this.deleteWord(),this.destroy()})),this.deleteWord=()=>r(this,void 0,void 0,(function*(){d.default.dictionary.dispatch({type:c.HARD_WORD_SELECTED,wordId:this.card.id,isSelected:!1});try{yield l.default.deleteUserWords({id:d.default.userData.userId,wordId:this.card.id})}catch(e){}})),this.toggleAudio=()=>{this.isAudioActive&&(this.isAudioActive=!1,this.audio.pause(),this.audio.currentTime=0,this.subElements&&this.subElements.audio.classList.remove("textbook-card__audio_active"))},this.onAudioClick=()=>{this.isAudioActive?this.toggleAudio():(d.default.activeAudioCard.dispatch({type:c.AUDIO_ACTIVE,id:this.card.id}),this.isAudioActive=!0,this.subElements&&this.subElements.audio.classList.add("textbook-card__audio_active"),this.audio=new Audio(`${l.BASE}${this.card.audio}`),this.audio.play(),this.audio.addEventListener("ended",(()=>{this.audio=new Audio(`${l.BASE}${this.card.audioMeaning}`),this.audio.play(),this.audio.addEventListener("ended",(()=>{this.audio=new Audio(`${l.BASE}${this.card.audioExample}`),this.audio.play(),this.audio.addEventListener("ended",(()=>{this.audio=new Audio(`${l.BASE}${this.card.audio}`),this.isAudioActive=!1,d.default.activeAudioCard.dispatch({type:c.AUDIO_DESACTIVE}),this.subElements&&this.subElements.audio.classList.remove("textbook-card__audio_active")}))}))})))},this.card=e,this.audio=new Audio(`${l.BASE}${e.audio}`)}render(){return super.render((e=>{const{id:t,word:s,image:n,transcription:i,wordTranslate:a,textMeaning:r,textMeaningTranslate:o,textExample:u,textExampleTranslate:c}=e,h=d.default.dictionary.getState()[t],m=6===d.default.textbook.getState().group&&d.default.isSignIn;return`\n<div class="textbook-card \n     textbook-card_color-${d.default.textbook.getState().group+1}\n     ${h?"textbook-card_hard":""}\n     " \n      data-card-id=${t}>\n    <div class="textbook-card__icon">\n      <img src="${l.BASE}${n}" alt=${s}>\n    </div>\n    <div class="textbook-card__text">\n      <div class="textbook-card__header">\n        <h4 class="textbook-card__word">${s}</h4><span> - </span>\n        <h4 class="textbook-card__transcription">${i}</h4><span> - </span>\n        <h4 class="textbook-card__word-translate">${a}</h4>\n      </div>\n      <div class="textbook-card__body">\n        <div class="textbook-card__meaning">\n          <h5 class="textbook-card__text-meaning">${r}</h5>\n          <h5 class="textbook-card__text-meaning">${o}</h5>\n        </div>\n        <div class="textbook-card__example">\n          <h5 class="textbook-card__text-example">${u}</h5>\n          <h5 class="textbook-card__text-example">${c}</h5>\n        </div>\n      </div>\n      <div class="textbook-card__buttons">\n        <div class="textbook-card__select ${d.default.isSignIn?"":"_hidden"}">\n          <button class="textbook-card__button button\n          ${m?"_hidden":""}\n          " data-element='studied'>\n            <span>Изученное</span>\n          </button>\n          <button class="textbook-card__button button \n                  ${h?"textbook-card__button_active":""}\n                  ${m?"_hidden":""}\n                  " \n                  data-element='hard'>\n            <span>Сложное</span>\n          </button>\n          <button class="textbook-card__button button \n          ${m?"":"_hidden"}\n          "\n          data-element='remove-card'>\n             <span>Удалить</span>\n          </button>\n        </div>\n        <div class="textbook-card__audio" data-element='audio'>\n          <svg class="audio" viewBox="0 0 128 128">\n            <use xlink:href='assets/svg/sprite.svg#audio' />\n          </svg>\n        </div>\n    </div>\n  </div>\n</div>\n`})(this.card)),this.initEventListeners(),this.element}initEventListeners(){this.subElements&&(this.subElements.audio&&this.subElements.audio.addEventListener("click",this.onAudioClick),this.subElements.studied&&this.subElements.studied.addEventListener("click",this.onStudiedClick),this.subElements.hard&&this.subElements.hard.addEventListener("click",this.onHardClick),this.subElements["remove-card"]&&this.subElements["remove-card"].addEventListener("click",this.onRemove)),d.default.activeAudioCard.subscribe(c.AUDIO_ACTIVE,this.toggleAudio)}}t.default=h},1267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){if(this.onMouseOver=e=>{const t=e.target.closest("[data-tooltip]");t&&(this.render(t.dataset.tooltip),this.moveTooltip(e),document.addEventListener("pointermove",this.onMouseMove))},this.onMouseMove=e=>{this.moveTooltip(e)},this.onMouseOut=()=>{this.removeTooltip()},s.instance)return s.instance;s.instance=this}removeTooltip(){this.element&&(this.element.remove(),this.element=null,document.removeEventListener("pointermove",this.onMouseMove))}initEventListeners(){document.addEventListener("pointerover",this.onMouseOver),document.addEventListener("pointerout",this.onMouseOut)}initialize(){this.initEventListeners()}render(e){this.element=document.createElement("div"),this.element.className="tooltip",this.element.innerHTML=e,document.body.append(this.element)}moveTooltip(e){const t=e.clientX+10,s=e.clientY+10;this.element.style.left=t+"px",this.element.style.top=s+"px"}destroy(){document.removeEventListener("pointerover",this.onMouseOver),document.removeEventListener("pointerout",this.onMouseOut),this.removeTooltip()}}const n=new s;t.default=n},7960:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3912);t.default=class{constructor(){this.element=null}render(e){const t=document.createElement("div");t.innerHTML=e,this.element=t.firstElementChild,this.subElements=(0,n.getSubElements)(this.element)}renderComponents(e){Object.entries(e).forEach((([e,t])=>{if(this.subElements){const s=t.render();s&&this.subElements[e].append(s)}}))}remove(){this.element&&this.element.remove()}destroy(){this.remove(),this.element=null}}},2323:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(8132);const i=n(s(3773)),a=n(s(1267)),r=new i.default,o=document.getElementById("app");if(o){const e=r.render();e&&o.append(e)}a.default.initialize()},3604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n<h4 class="sprint-entry__title">Аудиовызов</h4>\n<h5 class="sprint-entry__description">\n  «Аудиовызов» - это игра, которая улучшает восприятие речи на слух.\n</h5>\n<div class="sprint-controll">\n  <div class="sprint-controll__title">Управление с клавиатуры:</div>\n  <div class="sprint-controll__item">1, 2, 3, 4, 5 - чтобы дать ответ,</div>\n  <div class="sprint-controll__item">space - прослушать слово,</div>\n  <div class="sprint-controll__item">enter - не знаю/следующий вопрос</div>\n  <div class="sprint-controll__item">\'m\' - вкл/выкл звуковое сопровождение</div>\n</div>\n'},9009:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(1249)),a=n(s(8374)),r=n(s(6909)),o=n(s(7960)),l=n(s(2388)),u=n(s(3604));class d extends o.default{constructor(){super(...arguments),this.level=l.default.textbook.getState().group,this.onSprintLevelSelected=e=>{this.level=Number(e.detail)},this.onAudioCallStart=()=>{this.components["audio-call-content"].destroy(),this.components={"audio-call-content":new i.default({level:this.level})},super.renderComponents(this.components)},this.onAudioCallOver=e=>{this.components["audio-call-content"].destroy(),this.components={"audio-call-content":new r.default({results:e.detail})},super.renderComponents(this.components)}}initComponents(){this.components={"audio-call-content":new a.default({entry:u.default})},super.renderComponents(this.components),this.initEventListeners()}render(){return super.render('\n<div class="audio-call">\n  <div class="audio-call__content wrapper__box" data-element=\'audio-call-content\'></div>\n</div>\n'),this.initComponents(),this.element}initEventListeners(){this.subElements&&this.subElements["audio-call-content"]&&(this.subElements["audio-call-content"].addEventListener("sprint-level",this.onSprintLevelSelected),this.subElements["audio-call-content"].addEventListener("sprint-start",this.onAudioCallStart),this.subElements["audio-call-content"].addEventListener("audio-call-over",this.onAudioCallOver))}}t.default=d},3067:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(7960)),r=i(s(2554)),o=i(s(2102)),l=i(s(4799)),u=s(4142),d=i(s(2388)),c=s(6116),h=r.default.getInstance();class m extends a.default{constructor(){super(...arguments),this.password="",this.email="",this.onEmailInput=e=>{this.email=e.target.value.trim(),this.subElements&&(this.subElements["email-err"].textContent=""),this.subElements&&(this.subElements["pass-err"].textContent="")},this.onPasswordInput=e=>{this.password=e.target.value.trim(),this.subElements&&(this.subElements["pass-err"].textContent=""),this.subElements&&(this.subElements["email-err"].textContent="")},this.onSubmit=e=>n(this,void 0,void 0,(function*(){if(e.preventDefault(),(0,u.validateEmail)(this.email))if((0,u.validatePassword)(this.password))try{const{token:e,refreshToken:t,userId:s,name:n}=yield o.default.signin({email:this.email,password:this.password});new l.default({message:"Авторизация прошла успешно",duration:3e3}).show(),d.default.currentPage.dispatch({type:c.PAGE_CHANGE,page:"start"}),d.default.userData={token:e,refreshToken:t,userId:s,name:n},d.default.isSignIn=!0,location.reload()}catch(e){this.subElements&&(this.subElements["email-err"].textContent="не верный логин или пароль"),new l.default({message:"Авторизация не выполнена!",duration:3e3,type:"error"}).show(),d.default.isSignIn=!1}else this.subElements&&(this.subElements["pass-err"].textContent="должно быть не менее 8 символов");else this.subElements&&(this.subElements["email-err"].textContent="не валидный email")})),this.onReg=()=>{h.route({to:"registration"})}}render(){return super.render('\n<div class="login">\n  <div class="login__content wrapper__box">\n    <h4 class="login__title">Вход</h4>\n    <form class="login__forms" >\n      <div class="login__form">\n        <label class="login__label" for="input1">Email</label>\n        <div class="login__input login__input_err">\n          <input name="email" type="email" id="input1" data-element=\'login-email\' \n          required  placeholder="E-mail" autofocus>\n          <span class="login__err" data-element=\'email-err\'></span>\n        </div>\n      </div>\n      <div class="login__form">\n        <label class="login__label" for="input2">Пароль</label>\n        <div class="login__input">\n          <input name="password"  type="password" data-element=\'login-password\' \n          minlength="8"  placeholder="Пароль" id="input2">\n          <span class="login__err" data-element=\'pass-err\'></span>\n        </div>\n      </div>\n      <button class="login__button button" type="submit" data-element=\'login-submit\'><span>Войти</span></button>\n      <div class="login__append">\n        <span>Нет аккаунта?</span>\n        <span class="login__reg"  data-element=\'login-reg\'>Зарегистрируйтесь</span>\n      </div>\n    </form>\n  </div>\n</div>\n'),this.initEventListeners(),this.element}initEventListeners(){this.subElements&&this.subElements["login-email"]&&this.subElements["login-email"].addEventListener("input",this.onEmailInput),this.subElements&&this.subElements["login-password"]&&this.subElements["login-password"].addEventListener("input",this.onPasswordInput),this.subElements&&this.subElements["login-submit"]&&this.subElements["login-submit"].addEventListener("click",this.onSubmit),this.subElements&&this.subElements["login-reg"]&&this.subElements["login-reg"].addEventListener("click",this.onReg)}}t.default=m},8267:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(7960)),r=i(s(2554)),o=i(s(2102)),l=s(4142),u=i(s(2388)),d=s(6116),c=r.default.getInstance();class h extends a.default{constructor(){super(...arguments),this.password="",this.email="",this.name="",this.onLogin=()=>{c.route({to:"login"})},this.onEmailInput=e=>{this.email=e.target.value.trim(),this.subElements&&(this.subElements["email-err"].textContent="")},this.onPasswordInput=e=>{this.password=e.target.value.trim(),this.subElements&&(this.subElements["pass-err"].textContent="")},this.onNameInput=e=>{this.name=e.target.value.trim(),this.subElements&&(this.subElements["name-err"].textContent="")},this.onSubmit=e=>n(this,void 0,void 0,(function*(){if(e.preventDefault(),(0,l.validateEmail)(this.email))if((0,l.validateName)(this.name))if((0,l.validatePassword)(this.password)){console.log(this.email),console.log(this.password),console.log(this.name);try{yield o.default.createUser({email:this.email,password:this.password,name:this.name}),yield this.signIn()}catch(e){"Error 417: Expectation Failed"===e.message&&(yield this.signIn())}}else this.subElements&&(this.subElements["pass-err"].textContent="должно быть не менее 8 символов");else this.subElements&&(this.subElements["name-err"].textContent="поле обязательно для заполнения");else this.subElements&&(this.subElements["email-err"].textContent="не валидный email")})),this.signIn=()=>n(this,void 0,void 0,(function*(){try{const{token:e,refreshToken:t,userId:s,name:n}=yield o.default.signin({email:this.email,password:this.password});u.default.currentPage.dispatch({type:d.PAGE_CHANGE,page:"start"}),u.default.userData={token:e,refreshToken:t,userId:s,name:n},u.default.isSignIn=!0,location.reload()}catch(e){}}))}render(){return super.render('\n<div class="login">\n  <div class="login__content login__content_reg wrapper__box">\n    <h4 class="login__title">Регистрация</h4>\n    <form class="login__forms">\n      <div class="login__form">\n        <label class="login__label" for="input1">Email</label>\n        <div class="login__input">\n          <input name="email" type="email" id="input1" data-element=\'reg-email\' \n            required  placeholder="E-mail" autofocus>\n          <span class="login__err" data-element=\'email-err\'></span>\n        </div>\n      </div>\n      <div class="login__form">\n        <label class="login__label" for="input3">Имя</label>\n        <div class="login__input">\n          <input type="text" data-element=\'reg-user-name\' id="input3">\n          <span class="login__err" data-element=\'name-err\'></span>\n        </div>\n      </div>\n      <div class="login__form">\n        <label class="login__label" for="input2">Пароль</label>\n        <div class="login__input">\n          <input type="password" data-element=\'reg-password\' id="input2">\n          <span class="login__err" data-element=\'pass-err\'></span>\n        </div>\n      </div>\n      <button class="login__button button" data-element=\'reg-submit\'><span>Зарегистрироваться</span></button>\n      <div class="login__append">\n        <span>Уже есть аккаунт? </span>\n        <span class="login__reg" data-element=\'reg-login\'>Войдите</span>\n      </div>\n    </form>\n  </div>\n</div>\n'),this.initEventListeners(),this.element}initEventListeners(){this.subElements&&this.subElements["reg-login"]&&this.subElements["reg-login"].addEventListener("click",this.onLogin),this.subElements&&this.subElements["reg-email"]&&this.subElements["reg-email"].addEventListener("input",this.onEmailInput),this.subElements&&this.subElements["reg-password"]&&this.subElements["reg-password"].addEventListener("input",this.onPasswordInput),this.subElements&&this.subElements["reg-submit"]&&this.subElements["reg-submit"].addEventListener("click",this.onSubmit),this.subElements&&this.subElements["reg-user-name"]&&this.subElements["reg-user-name"].addEventListener("input",this.onNameInput)}}t.default=h},6140:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(8374)),a=n(s(8388)),r=n(s(6909)),o=n(s(7960)),l=n(s(2388)),u=n(s(9667));class d extends o.default{constructor(){super(...arguments),this.level=l.default.textbook.getState().group,this.onSprintLevelSelected=e=>{this.level=Number(e.detail),console.log(this.level)},this.onSprintStart=()=>{this.components["sprint-content"].destroy(),this.components={"sprint-content":new a.default({level:this.level})},super.renderComponents(this.components)},this.onSprintOver=e=>{this.components["sprint-content"].destroy(),this.components={"sprint-content":new r.default({results:e.detail})},super.renderComponents(this.components)}}initComponents(){this.components={"sprint-content":new i.default({entry:u.default})},super.renderComponents(this.components),this.initEventListeners()}render(){return super.render('\n<div class="sprint">\n  <div class="sprint__content wrapper__box" data-element=\'sprint-content\'></div>\n</div>\n'),this.initComponents(),this.element}initEventListeners(){this.subElements&&this.subElements["sprint-content"]&&(this.subElements["sprint-content"].addEventListener("sprint-level",this.onSprintLevelSelected),this.subElements["sprint-content"].addEventListener("sprint-start",this.onSprintStart),this.subElements["sprint-content"].addEventListener("sprint-over",this.onSprintOver))}}t.default=d},9667:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n<h4 class="sprint-entry__title">Спринт</h4>\n<h5 class="sprint-entry__description">Попробуйте перевести как можно больше слов за 60 секунд</h5>\n<div class="sprint-controll">\n  <div class="sprint-controll__title">Управление с клавиатуры:</div>\n  <div class="sprint-controll__item">клавиши влево или вправо</div>\n  <div class="sprint-controll__item">\'m\' - вкл/выкл звуковое сопровождение</div>\n</div>\n'},7797:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(7960));class a extends i.default{render(){return super.render('\n<div class="start">\n<div class="start__content wrapper__box">\n     <section class="peculiarities">\n        <div class="peculiarities__content">\n            <h2 class="start__subtitle">возможности и преимущества</h2>\n            <div class="peculiarities__items">\n                <div class="peculiarities__item">\n                    <svg class="peculiarities__icon" viewBox="0 0 1000 1000">\n                        <use xlink:href=\'assets/svg/sprite.svg#mess\' />\n                    </svg>\n                    <div class="peculiarities__text">\n                        Наша миссия — сделать обучение английскому языку доступным для каждого.\n                    </div>\n                </div>\n                <div class="peculiarities__item">\n                    <svg class="peculiarities__icon" viewBox="0 0 1000 1000">\n                        <use xlink:href=\'assets/svg/sprite.svg#textbook\' />\n                    </svg>\n                    <div class="peculiarities__text">\n                        Учебник содержит 3600 часто употребляемых английских слов, примеры использования\n                        изучаемого слова, а также их голосовое произношение.\n                    </div>\n                </div>\n                <div class="peculiarities__item">\n                    <svg class="peculiarities__icon" viewBox="0 0 1000 1000">\n                        <use xlink:href=\'assets/svg/sprite.svg#game\' />\n                    </svg>\n                    <div class="peculiarities__text">\n                        Использование игр, помогает снять усталость и напряжение, повышает мотивацию к\n                        изучению языка, позволяет создать ситуации общения.\n                    </div>\n                </div>\n                <div class="peculiarities__item">\n                    <svg class="peculiarities__icon" viewBox="0 0 1000 1000">\n                        <use xlink:href=\'assets/svg/sprite.svg#statistics\' />\n                    </svg>\n                    <div class="peculiarities__text">\n                        Возможность наблюдать динамику результатов. Ощущение прогресса помогает\n                        мотивировать\n                        себя на новые свершения.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    <section class="team">\n        <h2 class="start__subtitle">наша команда</h2>\n        <div class="team__content wrapper_box">\n            <div class="team__items">\n                <div class="team__item team-item">\n                    <div class="team-item__icon"></div>\n                    <div class="team-item__text">\n                        Разработал архитектуру и дизайн приложения,\n                        игры Аудиовызов и Спринт, учебник,\n                        настроил аутентификацию.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n</div>\n</div>\n'),this.element}}t.default=a},7476:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(6036)),r=i(s(7960)),o=i(s(7688)),l=i(s(7509)),u=i(s(2388)),d=s(6116),c=i(s(2102)),h=i(s(2554)).default.getInstance();class m extends r.default{constructor(){super(...arguments),this.onGroupSelect=()=>{const{group:e}=u.default.textbook.getState();6===e?(this.subElements&&this.subElements.pagination&&this.subElements.pagination.classList.add("_hidden"),this.subElements&&this.subElements.dictionary.classList.add("textbook__dictionary-button_active")):(this.subElements&&this.subElements.pagination&&this.subElements.pagination.classList.remove("_hidden"),this.subElements&&this.subElements.dictionary.classList.remove("textbook__dictionary-button_active")),this.update()},this.onDictionaryClick=()=>{u.default.textbook.dispatch({type:d.GROUP_SELECT,group:6}),this.components.groups.removeActive(),this.update()},this.update=()=>n(this,void 0,void 0,(function*(){const e=yield this.getData();this.components["textbook-view"].updata(e)}))}initComponents(){const e=Object.create(null,{renderComponents:{get:()=>super.renderComponents}});return n(this,void 0,void 0,(function*(){u.default.isSignIn&&(yield this.getDictionaryWords());const t=yield this.getData();this.components={"textbook-view":new a.default({cards:t}),pagination:new o.default,groups:new l.default},e.renderComponents.call(this,this.components),this.initEventListeners()}))}render(){return super.render(`\n<div class="textbook">\n  <div class="textbook__header wrapper__box">\n    <div class="groups" data-element='groups'></div>\n    <button class="textbook__dictionary-button \n            ${6===u.default.textbook.getState().group?"textbook__dictionary-button_active":""}\n            button ${u.default.isSignIn?"":"_hidden"}" \n            data-element='dictionary'>\n      <span>Сложные слова</span>\n    </button>  \n  </div>\n  <div class="textbook__content wrapper__box" data-element='textbook-view'></div>\n  <div class="pagination ${6===u.default.textbook.getState().group?"_hidden":""}" \n       data-element='pagination'></div>\n</div>\n`),this.initComponents(),this.element}getDictionaryWords(){return n(this,void 0,void 0,(function*(){const e=yield c.default.getUserWords({id:u.default.userData.userId}),t=yield Promise.all(e.map((e=>c.default.getWord({id:e.wordId}))));return e.forEach((e=>{u.default.dictionary.dispatch({type:d.HARD_WORD_SELECTED,wordId:e.wordId,isSelected:!0})})),t}))}getData(){return n(this,void 0,void 0,(function*(){const{page:e,group:t}=u.default.textbook.getState();if(6===t){if(u.default.isSignIn){const e=u.default.dictionary.getState();return yield Promise.all(Object.keys(e).filter((t=>e[t])).map((e=>c.default.getWord({id:e}))))}u.default.textbook.dispatch({type:d.GROUP_SELECT,group:0}),h.route({to:"textbook"})}return yield c.default.getWords({page:e,group:t})}))}initEventListeners(){u.default.textbook.subscribe(d.PAGE_NEXT,this.update),u.default.textbook.subscribe(d.PAGE_PREV,this.update),u.default.textbook.subscribe(d.PAGE_DOUBLENEXT,this.update),u.default.textbook.subscribe(d.PAGE_DOUBLEPREV,this.update),u.default.textbook.subscribe(d.GROUP_SELECT,this.onGroupSelect),this.subElements&&this.subElements.dictionary.addEventListener("click",this.onDictionaryClick)}}t.default=m},2554:function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&n(t,e,s);return i(t,e),t},r=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(2388)),u=s(6116),d=o(s(9077));class c{constructor(){this.page=null}static getInstance(){return this.instance||(this.instance=new c),this.instance}route({to:e}){return r(this,void 0,void 0,(function*(){const{default:t}=yield Promise.resolve().then((()=>a(s(7005)(`./${e}/index.ts`)))),n=new t,i=yield n.render();(0,d.default)({from:this.page,to:i}),this.page=n,l.default.currentPage.dispatch({type:u.PAGE_CHANGE,page:e})}))}}t.default=c},9077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({from:e,to:t,duration:s=300}){const n=document.getElementById("content");n&&(document.body.classList.add("main_fd"),document.body.classList.add("_lock"),setTimeout((()=>{n.innerHTML="",e&&e.destroy&&e.destroy(),t&&n.append(t),document.body.classList.remove("_lock"),document.body.classList.remove("main_fd")}),s))}},6116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_PAGE_TEXTBOOK=t.MAX_PAGE_TEXTBOOK=t.HARD_WORD_SELECTED=t.PAGE_CHANGE=t.GROUP_SELECT=t.PAGE_DOUBLEPREV=t.PAGE_DOUBLENEXT=t.PAGE_PREV=t.PAGE_NEXT=t.AUDIO_DESACTIVE=t.AUDIO_ACTIVE=void 0,t.AUDIO_ACTIVE="AUDIO_ACTIVE",t.AUDIO_DESACTIVE="AUDIO_DESACTIVE",t.PAGE_NEXT="PAGE_NEXT",t.PAGE_PREV="PAGE_PREV",t.PAGE_DOUBLENEXT="PAGE_DOUBLENEXT",t.PAGE_DOUBLEPREV="PAGE_DOUBLEPREV",t.GROUP_SELECT="GROUP_SELECT",t.PAGE_CHANGE="PAGE_CHANGE",t.HARD_WORD_SELECTED="HARD_WORD_SELECTED",t.MAX_PAGE_TEXTBOOK=29,t.MIN_PAGE_TEXTBOOK=0},2388:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(1041)),r=i(s(5293));class o{constructor(){this.defaultDictionaryItem={},this.userData={token:"",refreshToken:"",userId:"",name:""},this.textbookData={page:0,group:0},this.activeAudioCard=(0,r.default)(a.default.audio,""),this.textbook=(0,r.default)(a.default.textbook,this.textbookData),this.currentPage=(0,r.default)(a.default.nav,"start"),this.dictionary=(0,r.default)(a.default.dictionary,this.defaultDictionaryItem),this.sprintMode="free",this.sprintSound=!0,this.audioCallSound=!0,this.isSignIn=!1,this.setLocalStorage=()=>{const e=this.isSignIn?"true":"";localStorage.setItem("userData",JSON.stringify(this.userData)),localStorage.setItem("isSignIn",e),localStorage.setItem("currentPage",this.currentPage.getState()),localStorage.setItem("textbookData",JSON.stringify(this.textbook.getState()))},this.initEventListeners()}static getInstance(){return this.instance||(this.instance=new o),this.instance}getLocalStorage(){return n(this,void 0,void 0,(function*(){const e=localStorage.getItem("userData"),t=localStorage.getItem("textbookData");this.isSignIn=Boolean(localStorage.getItem("isSignIn"));const s=localStorage.getItem("currentPage");if(this.currentPage=(0,r.default)(a.default.nav,null!=s?s:"start"),e){const t=yield JSON.parse(e);t&&(this.userData=t)}if(t){const e=yield JSON.parse(t);e&&(this.textbookData=e,this.textbook=(0,r.default)(a.default.textbook,this.textbookData))}}))}initEventListeners(){window.addEventListener("beforeunload",this.setLocalStorage)}}o.instance=null;const l=o.getInstance();t.default=l},823:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(6116);t.default=function(e,t){const{type:s,id:i=""}=t;switch(s){case n.AUDIO_ACTIVE:return i;case n.AUDIO_DESACTIVE:return"";default:return e}}},62:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(6116);t.default=function(e,t){const{type:s,wordId:i,isSelected:a}=t;return s===n.HARD_WORD_SELECTED?Object.assign(Object.assign({},e),{[i]:a}):e}},1041:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(823)),a=n(s(5181)),r=n(s(514)),o=n(s(62)),l={audio:i.default,textbook:a.default,nav:r.default,dictionary:o.default};t.default=l},514:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(6116),a=n(s(2388));t.default=function(e,t){const{type:s,page:n}=t;return s===i.PAGE_CHANGE?("textbook"===n&&(a.default.sprintMode="textbook"),"start"===n&&(a.default.sprintMode="free"),n):e}},5181:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(6116);t.default=function(e,t){const{type:s,group:i=1}=t;switch(s){case n.PAGE_NEXT:return Object.assign(Object.assign({},e),{page:e.page+1});case n.PAGE_PREV:return Object.assign(Object.assign({},e),{page:e.page-1});case n.PAGE_DOUBLENEXT:return Object.assign(Object.assign({},e),{page:n.MAX_PAGE_TEXTBOOK});case n.PAGE_DOUBLEPREV:return Object.assign(Object.assign({},e),{page:n.MIN_PAGE_TEXTBOOK});case n.GROUP_SELECT:return Object.assign(Object.assign({},e),{group:i});default:return e}}},5293:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(6742));t.default=function(e,t){let s=t;return{dispatch:t=>{s=e(s,t),i.default.publish(t.type,s)},getState:()=>s,subscribe:(e,t)=>{i.default.subscribe(e,t)}}}},3912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=t.getSubElements=void 0,t.getSubElements=function(e,t="[data-element]",s="element"){if(e)return[...e.querySelectorAll(t)].reduce(((e={},t)=>{const n=t.dataset[s];return n&&(e[n]=t),e}),{})},t.createElement=function(e,t="div"){const s=document.createElement(t);if(s.innerHTML=e,s.firstElementChild)return s.firstElementChild;throw Error("Template is not correct")}},2970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!1){e.elem&&e.elem.dispatchEvent(new CustomEvent(e.event,{bubbles:t,detail:e.payload}))}},6742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={channels:{},subscribe(e,t){this.channels[e]||(this.channels[e]=[]),this.channels[e].push(t)},publish(e,t){const s=this.channels[e];s&&s.length&&s.forEach((e=>e(t)))}};t.default=s},1746:function(e,t){"use strict";var s=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=void 0,t.default=function(e,t){return s(this,void 0,void 0,(function*(){let s,i;try{s=yield fetch(e,t)}catch(e){throw new n(s,"Network error has occurred.")}if(!s.ok){let e=s.statusText;try{i=yield s.json(),e=i.error&&i.error.message||i.data&&i.data.error&&i.data.error.message||e}catch(e){}const t=`Error ${s.status}: ${e}`;throw new n(s,i,t)}try{return yield s.json()}catch(e){throw new n(s,null,e.message)}}))};class n extends Error{constructor(e,t,s=""){super(s),this.name="FetchError",this.response=e,this.body=t}}t.FetchError=n,window.addEventListener("unhandledrejection",(e=>{e.reason instanceof n&&alert(e.reason.message)}))},7624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=0,t=30){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},1280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}}},4142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateName=t.validatePassword=t.validateEmail=void 0;const s=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;t.validateEmail=function(e){return s.test(e)},t.validatePassword=function(e){return e.length>=8},t.validateName=function(e){return Boolean(e)}},4313:function(e,t){"use strict";var s=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s(this,void 0,void 0,(function*(){document.body.classList.add("_spinner");const t=yield e;return document.body.classList.remove("_spinner"),t}))}},7005:(e,t,s)=>{var n={"./audio-call/index.ts":9009,"./login/index.ts":3067,"./registration/index.ts":8267,"./sprint/index.ts":6140,"./start/index.ts":7797,"./textbook/index.ts":7476};function i(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=7005}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(2323)})();